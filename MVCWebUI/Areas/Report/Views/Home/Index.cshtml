@model HomeIndexViewModel
@*Model namespace using directive should be added to _ViewImports.cshtml.*@

@{
	ViewData["Title"] = "Report";
	int no = 0;
}

<h1>@ViewData["Title"]</h1>


<form asp-action="Index" method="get">
	<div class="row mb-3">
		<div class="col-2">
			<label asp-for="Filter.CategoryId"></label>
		</div>
		<div class="col-4">
			<select class="form-select" asp-items="Model.Categories" asp-for="Filter.CategoryId">
				<option value="">--All Categories--</option>
			</select>
		</div>
		<div class="col-2">
			<label asp-for="Filter.ProductName"></label>
		</div>
		<div class="col-4">
				<input asp-for="Filter.ProductName" class="form-control" placeholder="Enter name..."/>
		</div>
		</div>
	
	<div class="row">
		<div class="offset-2 col-10">
			<button type="submit" class="btn btn-dark">Search</button>
			&nbsp;&nbsp;
			<a asp-action="Index" class="btn btn-outline-dark">Clear</a>
		</div>
	</div>
	<hr />
	@if (Model.Report is not null && Model.Report.Count() > 0)
	{
		<p class="text-success">@Model.Report.Count() records found</p>
		<table class="table">
			<thead>
				<tr>
					<th>
						No
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().StoreName)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().CategoryName)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().ProductName)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().UnitPrice)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().StockAmount)
					</th>
					<th>
						@Html.DisplayNameFor(model => model.Report.FirstOrDefault().ExpirationDate)
					</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model.Report)
				{
					<tr>
						<td>
							<b>@(++no)</b>
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.StoreName)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.CategoryName)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.ProductName)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.UnitPrice)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.StockAmount)
						</td>
						<td>
							@Html.DisplayFor(modelItem => item.ExpirationDate)
						</td>

					</tr>
				}
			</tbody>
		</table>

	}
	else
	{
		<p class="text-info">No records found</p>
	}
</form>